<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Chat</title>
    </head>

    <body>
        <h1>Chat en temps r√©el</h1>
        <input type="text" name="message"><button onclick="sendMessage()">Envoyer</button>
        <table id="conv">
        </table>
        

        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket = io.connect('http://localhost:8080');
            var pseudo = prompt('Pseudo?');
            var table = document.getElementById("conv");

            socket.emit('inscription', pseudo);

            function sendMessage() {
                socket.emit('message', document.getElementsByName("message")[0].value);
            };

            socket.on('reponse', function(reponse) {
                var rows = table.getElementsByTagName("tr").lenght - 1; 
                var row = table.insertRow(rows);

                row.innerHTML = reponse;
            });
        </script>
    </body>
</html>
